<?xml version="1.0"?>
<!-- Copyright 2025 356C LLC -->
<!-- SPDX-License-Identifier: GPL-3.0-or-later -->
<!-- Test/Development Panel - Only accessible via -p test or -panel test flag -->
<component>
  <view extends="lv_obj"
        width="100%" height="100%" style_pad_all="20" style_border_width="0" flex_flow="column"
        style_pad_gap="#space_xl" scrollable="true" scroll_dir="VER">
    <!-- ============================================================ -->
    <!-- SPOOL VISUALIZATION TESTS - Pseudo-3D Canvas vs Flat Ring    -->
    <!-- ============================================================ -->
    <lv_label text="Spool Visualization (Pseudo-3D Canvas)"
              style_text_font="#test_label_large_font" style_margin_bottom="5"/>
    <ui_card width="100%"
             height="100" style_radius="#border_radius" style_pad_all="#space_lg" flex_flow="row"
             style_flex_main_place="space_evenly" style_flex_cross_place="center">
      <spool_canvas color="0xE53935" fill_level="1.0" size="64"/>
      <spool_canvas color="0x1E88E5" fill_level="0.75" size="64"/>
      <spool_canvas color="0x43A047" fill_level="0.40" size="64"/>
      <spool_canvas color="0xFDD835" fill_level="0.10" size="64"/>
    </ui_card>
    <lv_label text="Fill: 100% / 75% / 40% / 10%" style_text_font="#font_small" style_text_color="#text_secondary"/>
    <!-- Flat Concentric Rings (existing ams_slot) for comparison -->
    <lv_label text="Flat Concentric Rings (existing ams_slot)"
              style_text_font="#test_label_large_font" style_margin_top="10" style_margin_bottom="5"/>
    <ui_card width="100%"
             height="100" style_radius="#border_radius" style_pad_all="#space_lg" flex_flow="row"
             style_flex_main_place="space_evenly" style_flex_cross_place="center">
      <ams_slot slot_index="0" fill_level="1.0"/>
      <ams_slot slot_index="1" fill_level="0.75"/>
      <ams_slot slot_index="2" fill_level="0.40"/>
      <ams_slot slot_index="3" fill_level="0.10"/>
    </ui_card>
    <lv_label text="Fill: 100% / 75% / 40% / 10%" style_text_font="#font_small" style_text_color="#text_secondary"/>
    <!-- Separator -->
    <lv_obj width="100%" height="2" style_bg_opa="100" style_bg_color="#text_secondary" style_border_width="0"/>
    <!-- ============================================================ -->
    <!-- PROGRESS BAR TESTS - Understanding lv_bar behavior           -->
    <!-- ============================================================ -->
    <lv_label text="Progress Bar Tests" style_text_font="#test_label_large_font" style_margin_bottom="5"/>
    <!-- Test 1: Minimal bar - no styling, default theme -->
    <ui_card width="100%"
             height="60" style_radius="#border_radius" style_pad_all="#space_lg" flex_flow="row"
             style_flex_main_place="space_between" style_flex_cross_place="center">
      <lv_label text="Default (value=50)" style_text_font="#font_small"/>
      <lv_bar name="test_bar_default" width="60%" height="12" value="50"/>
    </ui_card>
    <!-- Test 2: With explicit min_value/max_value (NOT range_min/range_max!) -->
    <ui_card width="100%"
             height="60" style_radius="#border_radius" style_pad_all="#space_lg" flex_flow="row"
             style_flex_main_place="space_between" style_flex_cross_place="center">
      <lv_label text="min_value=0, max_value=100, value=25" style_text_font="#font_small"/>
      <lv_bar name="test_bar_explicit_range" width="60%" height="12" min_value="0" max_value="100" value="25"/>
    </ui_card>
    <!-- Test 3: value=0 - should show empty -->
    <ui_card width="100%"
             height="60" style_radius="#border_radius" style_pad_all="#space_lg" flex_flow="row"
             style_flex_main_place="space_between" style_flex_cross_place="center">
      <lv_label text="value=0 (shows FULL - BUG!)" style_text_font="#font_small"/>
      <lv_bar name="test_bar_zero" width="60%" height="12" min_value="0" max_value="100" value="0"/>
    </ui_card>
    <!-- Test 3b: value=1 - should show tiny sliver -->
    <ui_card width="100%"
             height="60" style_radius="#border_radius" style_pad_all="#space_lg" flex_flow="row"
             style_flex_main_place="space_between" style_flex_cross_place="center">
      <lv_label text="value=1 (tiny sliver?)" style_text_font="#font_small"/>
      <lv_bar name="test_bar_one" width="60%" height="12" min_value="0" max_value="100" value="1"/>
    </ui_card>
    <!-- Test 4: value=100 - should show full -->
    <ui_card width="100%"
             height="60" style_radius="#border_radius" style_pad_all="#space_lg" flex_flow="row"
             style_flex_main_place="space_between" style_flex_cross_place="center">
      <lv_label text="value=100 (should be full)" style_text_font="#font_small"/>
      <lv_bar name="test_bar_full" width="60%" height="12" min_value="0" max_value="100" value="100"/>
    </ui_card>
    <!-- Test 5: Styled bar (no part-specific styling possible in XML, use theme) -->
    <ui_card width="100%"
             height="60" style_radius="#border_radius" style_pad_all="#space_lg" flex_flow="row"
             style_flex_main_place="space_between" style_flex_cross_place="center">
      <lv_label text="Styled (value=75)" style_text_font="#font_small"/>
      <lv_bar name="test_bar_styled" width="60%" height="12" min_value="0" max_value="100" value="75" style_radius="4"/>
    </ui_card>
    <!-- Test 6: Different heights -->
    <ui_card width="100%"
             height="60" style_radius="#border_radius" style_pad_all="#space_lg" flex_flow="row"
             style_flex_main_place="space_between" style_flex_cross_place="center">
      <lv_label text="Thin bar (height=8)" style_text_font="#font_small"/>
      <lv_bar name="test_bar_thin" width="60%" height="8" min_value="0" max_value="100" value="50" style_radius="4"/>
    </ui_card>
    <!-- Separator -->
    <lv_obj width="100%" height="2" style_bg_opa="100" style_bg_color="#text_secondary" style_border_width="0"/>
    <!-- Test Row 1: Small Label + Switch -->
    <ui_card width="100%"
             height="#test_row_height" style_radius="#border_radius" style_pad_all="#space_lg" style_pad_gap="#space_md"
             flex_flow="row" style_flex_main_place="space_between" style_flex_cross_place="center">
      <lv_label text="Toggle Feature" style_text_font="#test_label_font"/>
      <ui_switch name="test_switch_1"
                 width="#test_switch_width" height="#test_switch_height" style_pad_knob_all="#test_switch_knob_pad"/>
    </ui_card>
    <!-- Test Row 2: Large Label + Switch -->
    <ui_card width="100%"
             height="#test_row_height_large" style_radius="#border_radius" style_pad_all="#space_lg"
             style_pad_gap="#space_md" flex_flow="row" style_flex_main_place="space_between"
             style_flex_cross_place="center">
      <lv_label text="Advanced Setting" style_text_font="#test_label_large_font"/>
      <ui_switch name="test_switch_2"
                 width="#test_switch_width_large" height="#test_switch_height_large"
                 style_pad_knob_all="#test_switch_knob_pad_large" checked="true"/>
    </ui_card>
    <!-- Test Row 3: Compact Row with Two Switches -->
    <ui_card width="100%"
             height="#test_row_height" style_radius="#border_radius" style_pad_all="#space_lg" style_pad_gap="#space_md"
             flex_flow="row" style_flex_main_place="start" style_flex_cross_place="center">
      <lv_label text="WiFi" style_text_font="#test_label_font" style_margin_right="10"/>
      <ui_switch name="test_switch_3"
                 width="#test_switch_width" height="#test_switch_height" style_pad_knob_all="#test_switch_knob_pad"
                 style_margin_right="20"/>
      <lv_label text="Bluetooth" style_text_font="#test_label_font" style_margin_right="10"/>
      <ui_switch name="test_switch_4"
                 width="#test_switch_width" height="#test_switch_height" style_pad_knob_all="#test_switch_knob_pad"
                 checked="true"/>
    </ui_card>
    <!-- NEW: Test semantic size parameter -->
    <lv_label text="Semantic Size Parameter Tests" style_text_font="#test_label_large_font" style_margin_top="10"/>
    <!-- Size: tiny -->
    <ui_card width="100%"
             height="60" style_radius="#border_radius" style_pad_all="#space_lg" flex_flow="row"
             style_flex_main_place="space_between" style_flex_cross_place="center">
      <lv_label text="size=&quot;tiny&quot;" style_text_font="#test_label_font"/>
      <ui_switch name="test_switch_tiny" size="tiny"/>
    </ui_card>
    <!-- Size: small -->
    <ui_card width="100%"
             height="60" style_radius="#border_radius" style_pad_all="#space_lg" flex_flow="row"
             style_flex_main_place="space_between" style_flex_cross_place="center">
      <lv_label text="size=&quot;small&quot;" style_text_font="#test_label_font"/>
      <ui_switch name="test_switch_small" size="small" checked="true"/>
    </ui_card>
    <!-- Size: medium -->
    <ui_card width="100%"
             height="70" style_radius="#border_radius" style_pad_all="#space_lg" flex_flow="row"
             style_flex_main_place="space_between" style_flex_cross_place="center">
      <lv_label text="size=&quot;medium&quot;" style_text_font="#test_label_font"/>
      <ui_switch name="test_switch_medium" size="medium"/>
    </ui_card>
    <!-- Size: large -->
    <ui_card width="100%"
             height="80" style_radius="#border_radius" style_pad_all="#space_lg" flex_flow="row"
             style_flex_main_place="space_between" style_flex_cross_place="center">
      <lv_label text="size=&quot;large&quot;" style_text_font="#test_label_font"/>
      <ui_switch name="test_switch_large" size="large" checked="true"/>
    </ui_card>
    <!-- Size: medium with width override -->
    <ui_card width="100%"
             height="70" style_radius="#border_radius" style_pad_all="#space_lg" flex_flow="row"
             style_flex_main_place="space_between" style_flex_cross_place="center">
      <lv_label text="size=&quot;medium&quot; width=&quot;100&quot;" style_text_font="#test_label_font"/>
      <ui_switch name="test_switch_override" width="100" size="medium"/>
    </ui_card>
    <!-- NEW: Keyboard test -->
    <lv_label text="Keyboard Test (Gboard-style)" style_text_font="#test_label_large_font" style_margin_top="10"/>
    <ui_card width="100%" height="120" style_radius="#border_radius" style_pad_all="#space_lg">
      <lv_textarea name="keyboard_test_textarea"
                   width="100%" height="100%" placeholder="Tap to show keyboard..." one_line="false" max_length="200"/>
    </ui_card>
  </view>
</component>
