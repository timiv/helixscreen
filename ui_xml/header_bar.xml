<?xml version="1.0"?>
<!-- Copyright 2025 356C LLC -->
<!-- SPDX-License-Identifier: GPL-3.0-or-later -->
<component>
  <!-- Reusable Header Bar Component - Improved Design v2 -->
  <!-- Used in modal overlays, sub-screens, and detail views -->
  <!-- Provides consistent back button + centered title + optional action button -->
  <!-- Key improvements over v1:
       - Flat 3-element layout (no nested containers) for true centering
       - Symmetric padding (left + right) for visual balance
       - Title uses flex_grow + text_align for perfect centering
       - Uses text_heading/text_body components for theme consistency
       - XML-controlled action button visibility via hide_action_button prop
  -->
  <!-- API Properties -->
  <api>
    <prop type="string" name="title"/>
    <prop type="string" name="action_button_text" default=""/>
    <!-- Use hide_action_button="false" to show the action button -->
    <prop type="string" name="hide_action_button" default="true"/>
  </api>
  <view extends="lv_obj" width="100%" height="#header_height" style_bg_opa="0" style_border_width="0" style_pad_left="#padding_normal" style_pad_right="#padding_normal" style_pad_top="#padding_tiny" style_pad_bottom="#padding_tiny" flex_flow="row" style_flex_main_place="space_between" style_flex_cross_place="center" scrollable="false">
    <!-- Back button (fixed width, left-aligned) - LV_SYMBOL_LEFT -->
    <lv_button name="back_button" width="#header_back_button_size" height="#header_back_button_size" style_bg_opa="0" style_border_width="0" style_shadow_width="0" scrollable="false">
      <lv_label text="&#xF053;" align="center" style_text_font="#font_heading" style_text_color="#text_primary"/>
    </lv_button>
    <!-- Title (flexible width, centered) -->
    <text_heading name="header_title" text="$title" flex_grow="1" style_text_align="center" scrollable="false"/>
    <!-- Action button (hidden by default, pass hide_action_button="false" to show) -->
    <lv_button name="action_button" width="#header_action_button_width" height="#header_action_button_height" style_radius="#border_radius" style_border_width="0" style_shadow_width="0" scrollable="false" hidden="$hide_action_button">
      <text_body name="action_button_label" text="$action_button_text" align="center"/>
    </lv_button>
  </view>
</component>
