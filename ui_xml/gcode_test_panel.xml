<?xml version="1.0"?>
<!-- Copyright 2025 356C LLC -->
<!-- SPDX-License-Identifier: GPL-3.0-or-later -->

<component>
  <view extends="lv_obj" width="100%" height="100%" style_bg_color="#panel_bg" style_pad_all="0">
    <!-- Main Layout: Left (viewer + sliders) + Right (controls) -->
    <lv_obj width="100%" height="100%" flex_flow="row" style_pad_all="0" style_pad_gap="0">
      <!-- Left: Viewer + Sliders (70%) -->
      <lv_obj flex_grow="7" height="100%" flex_flow="column" style_border_width="0" style_pad_all="0" style_pad_gap="0">
        <!-- 3D Viewer -->
        <gcode_viewer name="gcode_viewer" width="100%" flex_grow="1" style_bg_color="#000000" style_border_width="0"/>
        <!-- Lighting Controls Bar (bottom) -->
        <lv_obj width="100%" height="60" flex_flow="row" style_bg_color="#bg_dark" style_pad_all="#padding_medium" style_border_width="0">
          <!-- Specular Intensity -->
          <lv_obj flex_grow="1" height="100%" flex_flow="row" style_pad_all="0" style_pad_top="10" style_border_width="0">
            <lv_label text="Specular:" style_text_color="#text_secondary" style_text_font="#font_small" style_pad_right="10"/>
            <lv_slider name="specular_slider" flex_grow="1" min_value="0" max_value="20" value="5"/>
            <lv_label name="specular_value_label" text="0.05" style_text_color="#text_primary" style_text_font="#font_small"/>
          </lv_obj>
          <!-- Shininess -->
          <lv_obj flex_grow="1" height="100%" flex_flow="row" style_pad_all="0" style_pad_top="10" style_border_width="0">
            <lv_label text="Shininess:" style_text_color="#text_secondary" style_text_font="#font_small" style_pad_right="10"/>
            <lv_slider name="shininess_slider" flex_grow="1" min_value="5" max_value="50" value="5"/>
            <lv_label name="shininess_value_label" text="5" style_text_color="#text_primary" style_text_font="#font_small"/>
          </lv_obj>
        </lv_obj>
      </lv_obj>
      <!-- Right: Control Panel (30%) -->
      <lv_obj name="control_panel" flex_grow="3" height="100%" scrollable="false" flex_flow="column" style_bg_color="#panel_bg" style_pad_all="4" style_pad_gap="4" style_border_width="0">
        <!-- View Presets Section -->
        <lv_obj width="100%" height="104" flex_flow="column" style_bg_color="#bg_dark" style_radius="#card_radius" style_pad_all="0" style_pad_gap="2" style_border_width="0">
          <lv_label text="View Presets" style_text_font="#font_subheader" style_text_color="#text_primary"/>
          <!-- Row 1 -->
          <lv_obj width="100%" height="40" flex_flow="row" style_pad_all="0" style_pad_gap="6" style_border_width="0">
            <lv_button name="btn_travels" flex_grow="1" flag_checkable="true">
              <lv_label text="Travels" align="center"/>
            </lv_button>
            <lv_button name="btn_top" flex_grow="1">
              <lv_label text="Top" align="center"/>
            </lv_button>
            <lv_button name="btn_front" flex_grow="1">
              <lv_label text="Front" align="center"/>
            </lv_button>
          </lv_obj>
          <!-- Row 2 -->
          <lv_obj width="100%" height="40" flex_flow="row" style_pad_all="0" style_pad_gap="6" style_border_width="0">
            <lv_button name="btn_side" flex_grow="1">
              <lv_label text="Side" align="center"/>
            </lv_button>
            <lv_button name="btn_reset" flex_grow="1">
              <lv_label text="Reset" align="center"/>
            </lv_button>
          </lv_obj>
        </lv_obj>
        <!-- Zoom Section -->
        <lv_obj width="100%" height="62" flex_flow="column" style_bg_color="#bg_dark" style_radius="#card_radius" style_pad_all="0" style_pad_gap="2" style_border_width="0">
          <lv_label text="Zoom" style_text_font="#font_subheader" style_text_color="#text_primary"/>
          <lv_obj width="100%" height="40" flex_flow="row" style_pad_all="0" style_pad_gap="6" style_border_width="0">
            <lv_button name="btn_zoom_in" flex_grow="1">
              <lv_label text="+" align="center"/>
            </lv_button>
            <lv_button name="btn_zoom_out" flex_grow="1">
              <lv_label text="-" align="center"/>
            </lv_button>
          </lv_obj>
        </lv_obj>
        <!-- File Section -->
        <lv_obj width="100%" height="62" flex_flow="column" style_bg_color="#bg_dark" style_radius="#card_radius" style_pad_all="0" style_pad_gap="2" style_border_width="0">
          <lv_label text="File" style_text_font="#font_subheader" style_text_color="#text_primary"/>
          <lv_obj width="100%" height="40" flex_flow="row" style_pad_all="0" style_pad_gap="6" style_border_width="0">
            <lv_button name="btn_load_test" flex_grow="1">
              <lv_label text="Browse" align="center"/>
            </lv_button>
            <lv_button name="btn_clear" flex_grow="1">
              <lv_label text="Clear" align="center"/>
            </lv_button>
          </lv_obj>
        </lv_obj>
        <!-- Statistics Section -->
        <lv_obj width="100%" flex_grow="10" style_flex_main_place="end" flex_flow="column" style_bg_color="#bg_dark" style_radius="#card_radius" style_pad_all="4" style_pad_gap="4" style_border_width="0">
          <lv_label text="File Info" style_text_font="#font_subheader" style_text_color="#text_primary"/>
          <lv_label width="100%" height="100" name="stats_label" text="Loading..." style_text_color="#text_secondary" style_text_font="#font_small" long_mode="wrap"/>
        </lv_obj>
      </lv_obj>
      <!-- control panel -->
    </lv_obj>
  </view>
</component>
