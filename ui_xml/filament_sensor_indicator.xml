<?xml version="1.0"?>
<!-- Copyright (C) 2025-2026 356C LLC -->
<!-- SPDX-License-Identifier: GPL-3.0-or-later -->
<!-- Filament sensor indicator - nozzle icon showing sensor state -->
<!-- Green nozzle=detected(1), Red nozzle-alert=empty(0), Hidden=no sensor(-1) or disabled -->
<component>
  <api>
    <prop name="size" type="string" default="sm"/>
  </api>
  <view name="filament_sensor_indicator"
        extends="lv_obj" width="content" height="content" style_pad_all="0" scrollable="false">
    <!-- Hidden when no sensor (value=-1) -->
    <bind_flag_if_eq subject="filament_runout_detected" flag="hidden" ref_value="-1"/>
    <!-- Hidden when master disabled -->
    <bind_flag_if_eq subject="filament_master_enabled" flag="hidden" ref_value="0"/>
    <!-- Loaded: green nozzle -->
    <icon src="filament" size="$size" variant="success">
      <bind_flag_if_not_eq subject="filament_runout_detected" flag="hidden" ref_value="1"/>
    </icon>
    <!-- Empty: red nozzle-alert -->
    <icon src="filament_alert" size="$size" variant="danger">
      <bind_flag_if_not_eq subject="filament_runout_detected" flag="hidden" ref_value="0"/>
    </icon>
  </view>
</component>
