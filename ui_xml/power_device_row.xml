<?xml version="1.0"?>
<!-- Copyright 2025 356C LLC -->
<!-- SPDX-License-Identifier: GPL-3.0-or-later -->
<!-- Power Device Row Component -->
<!-- Displays a power device name with a toggle switch for on/off control -->
<!-- Usage: <power_device_row device_name="LED Lights" name="led_row"/> -->
<!-- Lock indicator shown via C++ when device is locked during print -->
<component>
  <api>
    <prop name="device_name" type="string" default="Device"/>
  </api>
  <view name="power_device_row"
        extends="lv_obj" width="100%" height="content" flex_flow="row" style_flex_main_place="space_between"
        style_flex_cross_place="center" style_bg_color="#card_bg" style_bg_opa="100%" style_border_width="0"
        style_radius="#border_radius" style_pad_all="#space_md" scrollable="false">
    <!-- Left: Device info (name + optional status) -->
    <lv_obj height="content"
            flex_grow="1" flex_flow="column" style_pad_gap="#space_xs" style_bg_opa="0" style_border_width="0"
            scrollable="false">
      <text_body name="device_label" text="$device_name" style_text_color="#text_primary"/>
      <text_small name="device_status" text="" style_text_color="#text_secondary" hidden="true"/>
    </lv_obj>
    <!-- Right: Lock icon + toggle switch -->
    <lv_obj width="content"
            height="content" flex_flow="row" style_flex_cross_place="center" style_pad_gap="#space_sm" style_bg_opa="0"
            style_border_width="0" scrollable="false">
      <icon name="lock_icon" src="lock" size="sm" variant="secondary" hidden="true"/>
      <ui_switch name="device_toggle" size="medium">
        <event_cb trigger="value_changed" callback="on_power_device_toggle"/>
      </ui_switch>
    </lv_obj>
  </view>
</component>
