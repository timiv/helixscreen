<!--
  Copyright (C) 2025 356C LLC
  Author: Preston Brown <pbrown@brown-house.net>

  This file is part of HelixScreen.

  HelixScreen is free software: you can redistribute it and/or modify
  it under the terms of the GNU General Public License as published by
  the Free Software Foundation, either version 3 of the License, or
  (at your option) any later version.

  HelixScreen is distributed in the hope that it will be useful,
  but WITHOUT ANY WARRANTY; without even the implied warranty of
  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the
  GNU General Public License for more details.

  You should have received a copy of the GNU General Public License
  along with HelixScreen. If not, see <https://www.gnu.org/licenses/>.
-->

<component>
	<!-- Print Status Panel - Active print monitoring -->
	<!-- 2:1 layout with thumbnail on left, controls on right (similar to print_file_detail) -->

	<view extends="lv_obj"
	      name="print_status_panel"
	      x="#nav_width"
	      height="100%"
	      style_bg_color="#panel_bg"
	      style_pad_all="0"
	      style_border_width="0"
	      flex_flow="column">

		<!-- HEADER BAR (reusable component) -->
		<header_bar title="Print Status" name="status_header"/>

		<!-- CONTENT AREA (two columns: thumbnail left, controls right) -->
		<lv_obj width="100%"
		        flex_grow="1"
		        style_bg_opa="0"
		        style_border_width="0"
		        style_pad_left="#padding_normal"
		        style_pad_right="#padding_normal"
		        style_pad_top="#padding_normal"
		        style_pad_bottom="#padding_normal"
		        flex_flow="row"
		        style_pad_gap="#gap_normal"
		        name="content_container">

			<!-- ================================================================== -->
			<!-- LEFT SECTION: Thumbnail (2/3 width via flex_grow)                 -->
			<!-- ================================================================== -->
			<lv_obj name="thumbnail_section"
			        flex_grow="2"
			        height="100%"
			        style_bg_color="#card_bg"
			        style_border_width="0"
			        style_pad_all="0"
			        style_radius="#card_radius"
			        scrollable="false">

				<!-- Gradient background -->
				<lv_image name="gradient_background"
				          src="A:assets/images/thumbnail-gradient-bg.png"
				          width="100%"
				          height="100%"
				          style_bg_opa="0"
				          align="center"/>

				<!-- Thumbnail image (fills entire card background) -->
				<lv_image name="print_thumbnail"
				          src="A:assets/images/thumbnail-placeholder.png"
				          bind_src="selected_thumbnail"
				          width="100%"
				          height="100%"
				          style_bg_opa="0"
				          align="top_mid"
				          inner_align="top_mid"/>

				<!-- Metadata Overlay (bottom section) -->
				<lv_obj name="metadata_overlay"
				        width="100%"
				        height="120"
				        align="bottom_mid"
				        style_bg_color="0x000000"
				        style_bg_opa="180"
				        style_border_width="0"
				        style_pad_all="#padding_normal"
				        style_pad_gap="8"
				        flex_flow="column"
				        scrollable="false">

					<!-- Print Progress Bar -->
					<lv_bar name="print_progress"
					        width="100%"
					        height="8"
					        style_bg_color="0x404040"
					        style_bg_opa="255"
					        style_border_width="0"
					        style_radius="4"
					        bind_value="print_progress"/>

					<!-- File Name -->
					<lv_label name="file_name"
					          text="benchy.gcode"
					          bind_text="print_filename"
					          width="100%"
					          style_text_font="#font_heading"
					          style_text_color="0xFFFFFF"
					          style_text_align="left"/>

					<!-- Status Row: Time/Progress -->
					<lv_obj width="100%"
					        height="24"
					        style_bg_opa="0"
					        style_border_width="0"
					        style_pad_all="0"
					        flex_flow="row"
					        style_flex_main_place="space_between"
					        scrollable="false">
						<lv_label name="print_time"
						          text="01:23:45 / 03:00:00"
						          bind_text="print_time"
						          style_text_font="#font_body"
						          style_text_color="0xBBBBBB"/>
						<lv_label name="print_percent"
						          text="46%"
						          bind_text="print_percent"
						          style_text_font="#font_body"
						          style_text_color="0xBBBBBB"/>
					</lv_obj>
				</lv_obj>
			</lv_obj>

			<!-- ================================================================== -->
			<!-- RIGHT SECTION: Controls (1/3 width via flex_grow)                 -->
			<!-- ================================================================== -->
			<lv_obj name="controls_section"
			        flex_grow="1"
			        height="100%"
			        style_bg_opa="0"
			        style_border_width="0"
			        style_pad_all="0"
			        scrollable="false"
			        flex_flow="column"
			        style_pad_gap="#padding_normal">

				<!-- Nozzle Temperature Card -->
				<lv_obj name="nozzle_temp_card"
				        width="100%"
				        height="80"
				        style_bg_color="#card_bg"
				        style_radius="8"
				        style_border_width="0"
				        style_pad_all="16"
				        scrollable="false"
				        flex_flow="column"
				        style_flex_main_place="center"
				        style_flex_cross_place="center"
				        style_pad_gap="4">
					<lv_label text="Nozzle" style_text_font="montserrat_14" style_text_color="#text_secondary" align="center"/>
					<lv_label name="nozzle_temp_display" bind_text="nozzle_temp_display" style_text_font="montserrat_28" style_text_color="#text_primary" align="center"/>
				</lv_obj>

				<!-- Bed Temperature Card -->
				<lv_obj name="bed_temp_card"
				        width="100%"
				        height="80"
				        style_bg_color="#card_bg"
				        style_radius="8"
				        style_border_width="0"
				        style_pad_all="16"
				        scrollable="false"
				        flex_flow="column"
				        style_flex_main_place="center"
				        style_flex_cross_place="center"
				        style_pad_gap="4">
					<lv_label text="Bed" style_text_font="montserrat_14" style_text_color="#text_secondary" align="center"/>
					<lv_label name="bed_temp_display" bind_text="bed_temp_display" style_text_font="montserrat_28" style_text_color="#text_primary" align="center"/>
				</lv_obj>

				<!-- Spacer (pushes buttons to bottom) -->
				<lv_obj flex_grow="1" style_bg_opa="0" style_border_width="0"/>

				<!-- Control Buttons (2x2 Grid) -->
				<lv_obj name="button_grid"
				        width="100%"
				        height="140"
				        style_bg_opa="0"
				        style_border_width="0"
				        style_pad_all="0"
				        scrollable="false"
				        flex_flow="column"
				        style_flex_main_place="start"
				        style_flex_cross_place="center"
				        style_pad_gap="8">

					<!-- Row 1: Light, Pause -->
					<lv_obj width="100%" height="62"
					        style_bg_opa="0" style_border_width="0" style_pad_all="0"
					        scrollable="false"
					        flex_flow="row" style_flex_main_place="center" style_flex_cross_place="center"
					        style_pad_gap="8">
						<lv_button name="btn_light" width="120" height="54"
						        style_bg_color="#jog_button_bg" style_radius="6" style_border_width="0">
							<lv_label text="Light" style_text_font="montserrat_14" style_text_color="#text_primary" align="center"/>
						</lv_button>
						<lv_button name="btn_pause" width="120" height="54"
						        style_bg_color="#jog_button_bg" style_radius="6" style_border_width="0">
							<lv_label text="Pause" style_text_font="montserrat_14" style_text_color="#text_primary" align="center"/>
						</lv_button>
					</lv_obj>

					<!-- Row 2: Tune, Cancel -->
					<lv_obj width="100%" height="62"
					        style_bg_opa="0" style_border_width="0" style_pad_all="0"
					        scrollable="false"
					        flex_flow="row" style_flex_main_place="center" style_flex_cross_place="center"
					        style_pad_gap="8">
						<lv_button name="btn_tune" width="120" height="54"
						        style_bg_color="#jog_button_bg" style_radius="6" style_border_width="0">
							<lv_label text="Tune" style_text_font="montserrat_14" style_text_color="#text_primary" align="center"/>
						</lv_button>
						<lv_button name="btn_cancel" width="120" height="54"
						        style_bg_color="0xE74C3C" style_radius="6" style_border_width="0">
							<lv_label text="Cancel" style_text_font="montserrat_14" style_text_color="0xFFFFFF" align="center"/>
						</lv_button>
					</lv_obj>
				</lv_obj>
			</lv_obj>
		</lv_obj>
	</view>
</component>
