<?xml version="1.0"?>
<!-- Copyright 2025 356C LLC -->
<!-- SPDX-License-Identifier: GPL-3.0-or-later -->

<component>
  <!-- Motion Sub-Screen: XYZ Movement & Homing -->
  <!-- Simplified button grid design (vs circular jog pad) -->
  <!-- Component-local constants for jog pad colors (theme-aware) -->
  <consts>
    <!-- Jog pad outer ring (light gray background) -->
    <const name="jog_outer_ring_light" value="#5A5A5A"/>
    <const name="jog_outer_ring_dark" value="#3A3A3A"/>
    <!-- Jog pad inner circle (darker gray) -->
    <const name="jog_inner_circle_light" value="#4A4A4A"/>
    <const name="jog_inner_circle_dark" value="#2A2A2A"/>
    <!-- Jog pad grid divider lines (black) -->
    <const name="jog_grid_lines_light" value="#404040"/>
    <const name="jog_grid_lines_dark" value="#000000"/>
    <!-- Home button background -->
    <const name="jog_home_bg_light" value="#606060"/>
    <const name="jog_home_bg_dark" value="#404040"/>
    <!-- Home button border -->
    <const name="jog_home_border_light" value="#808080"/>
    <const name="jog_home_border_dark" value="#606060"/>
    <!-- Home icon text color -->
    <const name="jog_home_text_light" value="#000000"/>
    <const name="jog_home_text_dark" value="#FFFFFF"/>
    <!-- Zone boundary lines (subtle gray) -->
    <const name="jog_boundary_lines_light" value="#686868"/>
    <const name="jog_boundary_lines_dark" value="#484848"/>
    <!-- Distance labels (1mm/10mm text) -->
    <const name="jog_distance_labels_light" value="#444444"/>
    <const name="jog_distance_labels_dark" value="#CCCCCC"/>
    <!-- Axis labels (X+/Y+ etc) -->
    <const name="jog_axis_labels_light" value="#000000"/>
    <const name="jog_axis_labels_dark" value="#FFFFFF"/>
    <!-- Press highlight overlay -->
    <const name="jog_highlight_light" value="#000000"/>
    <const name="jog_highlight_dark" value="#FFFFFF"/>
  </consts>
  <!-- Uses shared backdrop from navigation system -->
  <view extends="lv_obj" name="motion_panel" width="#overlay_panel_width_large" height="100%" align="right_mid" style_pad_all="0" style_border_width="0" scrollable="false" flex_flow="column">
    <!-- Header Bar -->
    <header_bar name="motion_header" title="Motion: XYZ"/>
    <!-- Content Area: Two Columns -->
    <lv_obj name="motion_content" flex_grow="1" width="100%" style_bg_opa="0" style_pad_all="20" scrollable="false" style_border_width="0" style_border_opa="0" flex_flow="row" style_flex_main_place="center">
      <!-- Left Column (65%): XY Jog Pad -->
      <lv_obj name="left_column" width="65%" height="100%" style_bg_opa="0" style_pad_all="0" scrollable="false" style_border_width="0" style_border_opa="0">
        <!-- Circular Jog Pad: Custom-Drawn Two-Zone Design (Bambu Lab Style) -->
        <!-- Outer ring = large jogs, inner circle = small jogs -->
        <!-- Custom draw shows concentric circles, radial dividers, axis labels, home icon -->
        <!-- Click detection uses angle from center to determine direction -->
        <lv_obj name="jog_pad_container" width="LV_SIZE_CONTENT" height="LV_SIZE_CONTENT" style_bg_opa="0" style_pad_all="0" style_border_width="0" style_border_opa="0" style_radius="160" scrollable="false" clickable="true" align="center">
          <!-- No child widgets - all graphics drawn via LV_EVENT_DRAW_POST -->
          <!-- Click handled via LV_EVENT_CLICKED with angle-based direction detection -->
        </lv_obj>
      </lv_obj>
      <!-- Right Column (35%): Z-Axis Controls + Position Display -->
      <lv_obj name="right_column" width="35%" height="100%" style_bg_opa="0" style_pad_all="0" scrollable="false" style_border_width="0" style_border_opa="0" flex_flow="column" style_flex_main_place="start" style_flex_cross_place="center" style_pad_gap="20">
        <!-- Position Display Card -->
        <ui_card name="position_card" width="100%" height="#position_card_height" style_radius="8" style_pad_all="16" scrollable="false" flex_flow="column" style_flex_main_place="start" style_flex_cross_place="start" style_pad_gap="8">
          <text_body text="Position:"/>
          <text_heading name="pos_x" bind_text="motion_pos_x"/>
          <text_heading name="pos_y" bind_text="motion_pos_y"/>
          <text_heading name="pos_z" bind_text="motion_pos_z"/>
        </ui_card>
        <!-- Z-Axis Button Group -->
        <lv_obj name="z_controls" width="100%" height="#z_controls_height" style_bg_opa="0" style_pad_all="0" style_border_width="0" style_border_opa="0" scrollable="false" flex_flow="column" style_flex_main_place="start" style_flex_cross_place="center" style_pad_gap="#padding_medium">
          <lv_button name="z_up_10" width="#z_button_width" height="#z_button_height" style_radius="6" style_border_width="0" flex_flow="row" style_flex_main_place="center" style_flex_cross_place="center" style_pad_gap="4">
            <icon src="mat_arrow_up" size="xs" variant="primary"/>
            <text_body text="10mm"/>
          </lv_button>
          <lv_button name="z_up_1" width="#z_button_width" height="#z_button_height" style_radius="6" style_border_width="0" flex_flow="row" style_flex_main_place="center" style_flex_cross_place="center" style_pad_gap="4">
            <icon src="mat_arrow_up" size="xs" variant="primary"/>
            <text_body text="1mm"/>
          </lv_button>
          <lv_button name="z_down_1" width="#z_button_width" height="#z_button_height" style_radius="6" style_border_width="0" flex_flow="row" style_flex_main_place="center" style_flex_cross_place="center" style_pad_gap="4">
            <icon src="mat_arrow_down" size="xs" variant="primary"/>
            <text_body text="1mm"/>
          </lv_button>
          <lv_button name="z_down_10" width="#z_button_width" height="#z_button_height" style_radius="6" style_border_width="0" flex_flow="row" style_flex_main_place="center" style_flex_cross_place="center" style_pad_gap="4">
            <icon src="mat_arrow_down" size="xs" variant="primary"/>
            <text_body text="10mm"/>
          </lv_button>
        </lv_obj>
      </lv_obj>
    </lv_obj>
  </view>
</component>
