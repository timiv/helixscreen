<?xml version="1.0"?>
<!-- Copyright (C) 2025-2026 356C LLC -->
<!-- SPDX-License-Identifier: GPL-3.0-or-later -->
<!-- Numeric Keypad Overlay - Responsive layout for all screen sizes -->
<component>
  <consts>
    <!-- Numeric keypad overlay - button heights, panel width, display area -->
    <!-- keypad_btn_height: Touch-friendly button heights -->
    <px name="keypad_btn_height_tiny" value="36"/>
    <px name="keypad_btn_height_small" value="52"/>
    <px name="keypad_btn_height_medium" value="68"/>
    <px name="keypad_btn_height_large" value="84"/>

    <!-- keypad_width: Panel width (right-aligned overlay) -->
    <px name="keypad_width_tiny" value="180"/>
    <px name="keypad_width_small" value="280"/>
    <px name="keypad_width_medium" value="340"/>
    <px name="keypad_width_large" value="400"/>

  </consts>
  <view name="keypad_panel"
        extends="lv_obj" width="#keypad_width" height="100%" align="right_mid" style_pad_all="0" style_border_width="0"
        style_bg_opa="255" style_bg_color="#card_bg" scrollable="false" flex_flow="column" hidden="true">
    <!-- Header: no title, just back arrow and OK button -->
    <header_bar name="overlay_header"
                title="" action_button_text="Set " hide_action_button="false" action_button_height="#button_height"
                action_button_pad="#space_md"/>
    <!-- Content -->
    <lv_obj name="overlay_content"
            width="100%" flex_grow="1" style_pad_all="#space_md" scrollable="false" flex_flow="column" style_pad_gap="0"
            style_pad_row="0">

      <!-- Display: Textarea styled input (read-only) with unit label -->
      <lv_obj name="display_container"
              width="100%" height="content" style_pad_all="0" style_pad_left="#space_xs" scrollable="false" flex_flow="row"
              style_flex_cross_place="center" style_pad_bottom="#space_md">
        <text_input name="input_display"
                    height="content" flex_grow="1" text="" bind_text="keypad_display" style_text_font="#font_heading"
                    style_text_align="right" style_radius="#border_radius"
                    one_line="true" clickable="false" scrollable="false"/>
        <lv_label name="input_unit"
                  text="" style_text_font="#font_body" style_text_color="#text_muted" style_pad_left="#space_sm"/>
      </lv_obj>

      <!-- Button Grid: row_wrap with explicit row gaps (no space_evenly override) -->
      <lv_obj name="keypad_grid"
              width="100%" flex_grow="1" scrollable="false" flex_flow="row_wrap" style_pad_row="#space_sm"
              style_pad_column="#space_xs" style_flex_main_place="space_evenly">
        <!-- Row 1 -->
        <ui_button name="btn_7" width="30%" height="#keypad_btn_height" text="7" variant="secondary"/>
        <ui_button name="btn_8" width="30%" height="#keypad_btn_height" text="8" variant="secondary"/>
        <ui_button name="btn_9" width="30%" height="#keypad_btn_height" text="9" variant="secondary"/>
        <!-- Row 2 -->
        <ui_button name="btn_4" width="30%" height="#keypad_btn_height" text="4" variant="secondary"/>
        <ui_button name="btn_5" width="30%" height="#keypad_btn_height" text="5" variant="secondary"/>
        <ui_button name="btn_6" width="30%" height="#keypad_btn_height" text="6" variant="secondary"/>
        <!-- Row 3 -->
        <ui_button name="btn_1" width="30%" height="#keypad_btn_height" text="1" variant="secondary"/>
        <ui_button name="btn_2" width="30%" height="#keypad_btn_height" text="2" variant="secondary"/>
        <ui_button name="btn_3" width="30%" height="#keypad_btn_height" text="3" variant="secondary"/>
        <!-- Row 4: spacer, 0, backspace -->
        <lv_obj width="30%" height="#keypad_btn_height"/>
        <ui_button name="btn_0" width="30%" height="#keypad_btn_height" text="0" variant="secondary"/>
        <ui_button name="btn_backspace" width="30%" height="#keypad_btn_height" icon="backspace" text=""/>
      </lv_obj>
    </lv_obj>
  </view>
</component>
