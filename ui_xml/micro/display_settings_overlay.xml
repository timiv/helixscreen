<?xml version="1.0"?>
<!-- Copyright (C) 2025-2026 356C LLC -->
<!-- SPDX-License-Identifier: GPL-3.0-or-later -->
<!-- MICRO OVERRIDE of ui_xml/display_settings_overlay.xml for 480x272 displays -->
<!-- Divergences from standard:
     - Uses #overlay_panel_width_full (vs default width)
     - Padding: tighter content area spacing (#space_md sides, 0 top)
     - Uses micro-specific setting_* components for compact rows
-->
<component>
  <view name="display_settings_overlay"
        extends="overlay_panel" width="#overlay_panel_width_full" title="Display Settings" title_tag="Display Settings"
        bg_color="#screen_bg">
    <!-- Content Area - no padding, rows handle their own -->
    <lv_obj name="overlay_content" width="100%" flex_grow="1" style_pad_top="0" style_pad_left="#space_md" style_pad_right="#space_md" style_pad_bottom="#space_sm" scrollable="true" flex_flow="column">
      <!-- ================================================================== -->
      <!-- DARK MODE -->
      <!-- ================================================================== -->
      <setting_toggle_row name="row_dark_mode"
                          label="Dark Mode" label_tag="Dark Mode" icon="light_off"
                          description="Switch between light and dark themes"
                          description_tag="Switch between light and dark themes" subject="settings_dark_mode"
                          callback="on_dark_mode_changed">
        <bind_state_if_eq subject="settings_dark_mode_available" state="disabled" ref_value="0"/>
      </setting_toggle_row>
      <!-- ================================================================== -->
      <!-- THEME COLORS -->
      <!-- ================================================================== -->
      <setting_action_row name="row_theme_settings"
                          label="Theme Colors" label_tag="Theme Colors" icon="tune"
                          description="Explore palette and preview" description_tag="Explore palette and preview"
                          callback="on_theme_settings_clicked"/>
      <!-- ================================================================== -->
      <!-- BRIGHTNESS (conditional - hidden when no hardware backlight) -->
      <!-- ================================================================== -->
      <lv_obj name="brightness_section"
              width="100%" height="content" scrollable="false" style_pad_left="#space_md" style_pad_right="#space_md"
              style_pad_top="#space_xs" style_pad_bottom="#space_xs" flex_flow="column" style_pad_gap="#space_xs">
        <bind_flag_if_eq subject="settings_has_backlight" flag="hidden" ref_value="0"/>
        <!-- Label row with value display -->
        <lv_obj width="100%"
                height="content" flex_flow="row" style_flex_main_place="space_between" style_flex_cross_place="center"
                style_pad_all="0" scrollable="false">
          <lv_obj height="content"
                  flex_flow="row" style_flex_cross_place="center" style_pad_gap="#space_sm" style_pad_all="0"
                  scrollable="false">
            <icon src="light" size="sm" variant="secondary"/>
            <text_body text="Brightness" translation_tag="Brightness"/>
          </lv_obj>
          <text_body name="brightness_value_label" bind_text="brightness_value"/>
        </lv_obj>
        <!-- Description -->
        <text_small text="Adjust screen brightness level" translation_tag="Adjust screen brightness level"/>
        <!-- Slider with min/max icons -->
        <lv_obj width="100%"
                height="content" flex_flow="row" style_flex_cross_place="center" style_pad_left="0" style_pad_right="0"
                style_pad_top="#space_md" style_pad_bottom="#space_md" style_pad_gap="#space_sm" scrollable="false">
          <icon src="light_off" size="xs" variant="secondary"/>
          <lv_slider name="brightness_slider" flex_grow="1" min_value="10" max_value="100" value="50">
            <event_cb trigger="value_changed" callback="on_brightness_changed"/>
          </lv_slider>
          <icon src="light" size="xs" variant="primary"/>
        </lv_obj>
      </lv_obj>
      <!-- ================================================================== -->
      <!-- BED MESH RENDER MODE -->
      <!-- ================================================================== -->
      <setting_dropdown_row name="row_bed_mesh_mode"
                            label="Bed Mesh Render" label_tag="Bed Mesh Render" icon="grid_large"
                            description="Choose rendering mode for bed mesh visualization"
                            description_tag="Choose rendering mode for bed mesh visualization"
                            options="Auto&#10;3D View&#10;2D Heatmap" callback="on_bed_mesh_mode_changed"/>
      <!-- ================================================================== -->
      <!-- G-CODE RENDER MODE (hidden until hardware-accelerated 3D is ready) -->
      <!-- ================================================================== -->
      <lv_obj width="100%" height="0" hidden="true" style_pad_all="0" scrollable="false">
        <setting_dropdown_row name="row_gcode_mode"
                              label="G-code Preview" label_tag="G-code Preview" icon="printer_3d"
                              description="Choose rendering mode for G-code visualization"
                              description_tag="Choose rendering mode for G-code visualization"
                              options="Auto&#10;3D View&#10;2D Layers" callback="on_gcode_mode_changed"/>
      </lv_obj>
      <!-- ================================================================== -->
      <!-- DISPLAY DIM -->
      <!-- ================================================================== -->
      <setting_dropdown_row name="row_display_dim"
                            label="Screen Dim" label_tag="Screen Dim" icon="lightbulb_on_50"
                            description="Screen dims to lower brightness after period of inactivity"
                            description_tag="Screen dims to lower brightness after period of inactivity"
                            options="Never&#10;30 seconds&#10;1 minute&#10;2 minutes&#10;5 minutes"
                            callback="on_display_dim_changed"/>
      <!-- ================================================================== -->
      <!-- DISPLAY SLEEP -->
      <!-- ================================================================== -->
      <setting_dropdown_row name="row_display_sleep"
                            label="Display Sleep" label_tag="Display Sleep" icon="clock"
                            description="Screen will dim after the selected period of inactivity"
                            description_tag="Screen will dim after the selected period of inactivity"
                            options="Never&#10;1 minute&#10;5 minutes&#10;10 minutes&#10;30 minutes"
                            callback="on_display_sleep_changed"/>
      <!-- ================================================================== -->
      <!-- SLEEP WHILE PRINTING -->
      <!-- ================================================================== -->
      <setting_toggle_row name="row_sleep_while_printing"
                          label="Sleep While Printing" label_tag="Sleep While Printing" icon="sleep"
                          description="Allow display to sleep during active prints"
                          description_tag="Allow display to sleep during active prints"
                          callback="on_sleep_while_printing_changed"/>
      <!-- ================================================================== -->
      <!-- TIME FORMAT -->
      <!-- ================================================================== -->
      <setting_dropdown_row name="row_time_format"
                            label="Time Format" label_tag="Time Format" icon="clock"
                            description="Choose 12-hour or 24-hour time display"
                            description_tag="Choose 12-hour or 24-hour time display" options="12 Hour&#10;24 Hour"
                            callback="on_time_format_changed"/>
      <!-- ================================================================== -->
      <!-- INFO NOTE -->
      <!-- ================================================================== -->
      <info_note icon="info"
                 text="Touch screen to wake from sleep" translation_tag="Touch screen to wake from sleep"
                 style_pad_left="#space_md" style_pad_right="#space_md"/>
    </lv_obj>
  </view>
</component>
