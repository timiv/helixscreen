<?xml version="1.0"?>
<!-- Copyright (C) 2025-2026 356C LLC -->
<!-- SPDX-License-Identifier: GPL-3.0-or-later -->
<!-- MICRO OVERRIDE of ui_xml/theme_editor_overlay.xml for 480x272 displays -->
<!-- Divergences from standard:
     - Uses #overlay_panel_width_full (vs default width)
     - Action buttons (Reset/Save As/Save) pinned OUTSIDE scroll area at bottom
       (standard has them inside the scroller)
     - Tighter padding: #space_sm/#space_xs (vs #space_md)
-->
<component>
  <view name="theme_editor_overlay"
        extends="overlay_panel" width="#overlay_panel_width_full" title="Edit Theme Colors" title_tag="Edit Theme Colors" bg_color="#screen_bg">
    <!-- Content Area - no padding, rows handle their own -->
    <lv_obj name="overlay_content"
            width="100%" flex_grow="1" style_pad_top="0" style_pad_left="#space_sm" style_pad_right="#space_sm" style_pad_bottom="#space_xs" scrollable="true"
            flex_flow="column">
      <!-- ================================================================== -->
      <!-- THEME COLORS -->
      <!-- ================================================================== -->
      <setting_section_header title="THEME COLORS" title_tag="THEME COLORS" icon="tune"/>
      <lv_obj name="theme_swatch_list"
              width="100%" height="content" scrollable="false"
              style_pad_left="#space_xs" style_pad_right="#space_xs" style_pad_top="0"
              style_pad_bottom="#space_xs" flex_flow="column" style_pad_gap="#space_xxs">
        <lv_obj width="100%"
                height="content" flex_flow="row" style_pad_all="0" style_pad_gap="#space_xs"
                scrollable="false">
          <ui_card width="0"
                  height="content" flex_grow="1" flex_flow="row" style_pad_all="#space_xs" style_pad_gap="#space_xs"
                  style_radius="#border_radius_small" style_flex_cross_place="center">
            <lv_obj name="swatch_0"
                    width="#theme_swatch_size" height="#theme_swatch_size" style_radius="#border_radius_small"
                    style_bg_color="#screen_bg" style_bg_opa="255" style_border_width="1"
                    style_border_color="#elevated_bg" style_border_opa="80" scrollable="false" clickable="true">
              <event_cb trigger="clicked" callback="on_theme_swatch_clicked"/>
            </lv_obj>
            <lv_obj width="0"
                    height="content" flex_grow="1" flex_flow="column" style_pad_all="0" style_pad_gap="#space_xs"
                    scrollable="false">
              <text_small bind_text="swatch_0_desc"/>
            </lv_obj>
          </ui_card>
          <ui_card width="0"
                  height="content" flex_grow="1" flex_flow="row" style_pad_all="#space_xs" style_pad_gap="#space_xs"
                  style_radius="#border_radius_small" style_flex_cross_place="center">
            <lv_obj name="swatch_1"
                    width="#theme_swatch_size" height="#theme_swatch_size" style_radius="#border_radius_small"
                    style_bg_color="#overlay_bg" style_bg_opa="255" style_border_width="1" style_border_color="#elevated_bg"
                    style_border_opa="80" scrollable="false" clickable="true">
              <event_cb trigger="clicked" callback="on_theme_swatch_clicked"/>
            </lv_obj>
            <lv_obj width="0"
                    height="content" flex_grow="1" flex_flow="column" style_pad_all="0" style_pad_gap="#space_xs"
                    scrollable="false">
              <text_small bind_text="swatch_1_desc"/>
            </lv_obj>
          </ui_card>
        </lv_obj>
        <lv_obj width="100%"
                height="content" flex_flow="row" style_pad_all="0" style_pad_gap="#space_xs"
                scrollable="false">
          <ui_card width="0"
                  height="content" flex_grow="1" flex_flow="row" style_pad_all="#space_xs" style_pad_gap="#space_xs"
                  style_radius="#border_radius_small" style_flex_cross_place="center">
            <lv_obj name="swatch_2"
                    width="#theme_swatch_size" height="#theme_swatch_size" style_radius="#border_radius_small"
                    style_bg_color="#card_bg" style_bg_opa="255" style_border_width="1"
                    style_border_color="#elevated_bg" style_border_opa="80" scrollable="false" clickable="true">
              <event_cb trigger="clicked" callback="on_theme_swatch_clicked"/>
            </lv_obj>
            <lv_obj width="0"
                    height="content" flex_grow="1" flex_flow="column" style_pad_all="0" style_pad_gap="#space_xs"
                    scrollable="false">
              <text_small bind_text="swatch_2_desc"/>
            </lv_obj>
          </ui_card>
          <ui_card width="0"
                  height="content" flex_grow="1" flex_flow="row" style_pad_all="#space_xs" style_pad_gap="#space_xs"
                  style_radius="#border_radius_small" style_flex_cross_place="center">
            <lv_obj name="swatch_3"
                    width="#theme_swatch_size" height="#theme_swatch_size" style_radius="#border_radius_small"
                    style_bg_color="#elevated_bg" style_bg_opa="255" style_border_width="1"
                    style_border_color="#elevated_bg" style_border_opa="80" scrollable="false" clickable="true">
              <event_cb trigger="clicked" callback="on_theme_swatch_clicked"/>
            </lv_obj>
            <lv_obj width="0"
                    height="content" flex_grow="1" flex_flow="column" style_pad_all="0" style_pad_gap="#space_xs"
                    scrollable="false">
              <text_small bind_text="swatch_3_desc"/>
            </lv_obj>
          </ui_card>
        </lv_obj>
        <lv_obj width="100%"
                height="content" flex_flow="row" style_pad_all="0" style_pad_gap="#space_xs"
                scrollable="false">
          <ui_card width="0"
                  height="content" flex_grow="1" flex_flow="row" style_pad_all="#space_xs" style_pad_gap="#space_xs"
                  style_radius="#border_radius_small" style_flex_cross_place="center">
            <lv_obj name="swatch_4"
                    width="#theme_swatch_size" height="#theme_swatch_size" style_radius="#border_radius_small"
                    style_bg_color="#border" style_bg_opa="255" style_border_width="1"
                    style_border_color="#elevated_bg" style_border_opa="80" scrollable="false" clickable="true">
              <event_cb trigger="clicked" callback="on_theme_swatch_clicked"/>
            </lv_obj>
            <lv_obj width="0"
                    height="content" flex_grow="1" flex_flow="column" style_pad_all="0" style_pad_gap="#space_xs"
                    scrollable="false">
              <text_small bind_text="swatch_4_desc"/>
            </lv_obj>
          </ui_card>
          <ui_card width="0"
                  height="content" flex_grow="1" flex_flow="row" style_pad_all="#space_xs" style_pad_gap="#space_xs"
                  style_radius="#border_radius_small" style_flex_cross_place="center">
            <lv_obj name="swatch_5"
                    width="#theme_swatch_size" height="#theme_swatch_size" style_radius="#border_radius_small"
                    style_bg_color="#text" style_bg_opa="255" style_border_width="1"
                    style_border_color="#elevated_bg" style_border_opa="80" scrollable="false" clickable="true">
              <event_cb trigger="clicked" callback="on_theme_swatch_clicked"/>
            </lv_obj>
            <lv_obj width="0"
                    height="content" flex_grow="1" flex_flow="column" style_pad_all="0" style_pad_gap="#space_xs"
                    scrollable="false">
              <text_small bind_text="swatch_5_desc"/>
            </lv_obj>
          </ui_card>
        </lv_obj>
        <lv_obj width="100%"
                height="content" flex_flow="row" style_pad_all="0" style_pad_gap="#space_xs"
                scrollable="false">
          <ui_card width="0"
                  height="content" flex_grow="1" flex_flow="row" style_pad_all="#space_xs" style_pad_gap="#space_xs"
                  style_radius="#border_radius_small" style_flex_cross_place="center">
            <lv_obj name="swatch_6"
                    width="#theme_swatch_size" height="#theme_swatch_size" style_radius="#border_radius_small"
                    style_bg_color="#text_muted" style_bg_opa="255" style_border_width="1"
                    style_border_color="#elevated_bg" style_border_opa="80" scrollable="false" clickable="true">
              <event_cb trigger="clicked" callback="on_theme_swatch_clicked"/>
            </lv_obj>
            <lv_obj width="0"
                    height="content" flex_grow="1" flex_flow="column" style_pad_all="0" style_pad_gap="#space_xs"
                    scrollable="false">
              <text_small bind_text="swatch_6_desc"/>
            </lv_obj>
          </ui_card>
          <ui_card width="0"
                  height="content" flex_grow="1" flex_flow="row" style_pad_all="#space_xs" style_pad_gap="#space_xs"
                  style_radius="#border_radius_small" style_flex_cross_place="center">
            <lv_obj name="swatch_7"
                    width="#theme_swatch_size" height="#theme_swatch_size" style_radius="#border_radius_small"
                    style_bg_color="#text_subtle" style_bg_opa="255" style_border_width="1"
                    style_border_color="#elevated_bg" style_border_opa="80" scrollable="false" clickable="true">
              <event_cb trigger="clicked" callback="on_theme_swatch_clicked"/>
            </lv_obj>
            <lv_obj width="0"
                    height="content" flex_grow="1" flex_flow="column" style_pad_all="0" style_pad_gap="#space_xs"
                    scrollable="false">
              <text_small bind_text="swatch_7_desc"/>
            </lv_obj>
          </ui_card>
        </lv_obj>
        <lv_obj width="100%"
                height="content" flex_flow="row" style_pad_all="0" style_pad_gap="#space_xs"
                scrollable="false">
          <ui_card width="0"
                  height="content" flex_grow="1" flex_flow="row" style_pad_all="#space_xs" style_pad_gap="#space_xs"
                  style_radius="#border_radius_small" style_flex_cross_place="center">
            <lv_obj name="swatch_8"
                    width="#theme_swatch_size" height="#theme_swatch_size" style_radius="#border_radius_small"
                    style_bg_color="#primary" style_bg_opa="255" style_border_width="1"
                    style_border_color="#elevated_bg" style_border_opa="80" scrollable="false" clickable="true">
              <event_cb trigger="clicked" callback="on_theme_swatch_clicked"/>
            </lv_obj>
            <lv_obj width="0"
                    height="content" flex_grow="1" flex_flow="column" style_pad_all="0" style_pad_gap="#space_xs"
                    scrollable="false">
              <text_small bind_text="swatch_8_desc"/>
            </lv_obj>
          </ui_card>
          <ui_card width="0"
                  height="content" flex_grow="1" flex_flow="row" style_pad_all="#space_xs" style_pad_gap="#space_xs"
                  style_radius="#border_radius_small" style_flex_cross_place="center">
            <lv_obj name="swatch_9"
                    width="#theme_swatch_size" height="#theme_swatch_size" style_radius="#border_radius_small"
                    style_bg_color="#secondary" style_bg_opa="255" style_border_width="1"
                    style_border_color="#elevated_bg" style_border_opa="80" scrollable="false" clickable="true">
              <event_cb trigger="clicked" callback="on_theme_swatch_clicked"/>
            </lv_obj>
            <lv_obj width="0"
                    height="content" flex_grow="1" flex_flow="column" style_pad_all="0" style_pad_gap="#space_xs"
                    scrollable="false">
              <text_small bind_text="swatch_9_desc"/>
            </lv_obj>
          </ui_card>
        </lv_obj>
        <lv_obj width="100%"
                height="content" flex_flow="row" style_pad_all="0" style_pad_gap="#space_xs"
                scrollable="false">
          <ui_card width="0"
                  height="content" flex_grow="1" flex_flow="row" style_pad_all="#space_xs" style_pad_gap="#space_xs"
                  style_radius="#border_radius_small" style_flex_cross_place="center">
            <lv_obj name="swatch_10"
                    width="#theme_swatch_size" height="#theme_swatch_size" style_radius="#border_radius_small"
                    style_bg_color="#tertiary" style_bg_opa="255" style_border_width="1"
                    style_border_color="#elevated_bg" style_border_opa="80" scrollable="false" clickable="true">
              <event_cb trigger="clicked" callback="on_theme_swatch_clicked"/>
            </lv_obj>
            <lv_obj width="0"
                    height="content" flex_grow="1" flex_flow="column" style_pad_all="0" style_pad_gap="#space_xs"
                    scrollable="false">
              <text_small bind_text="swatch_10_desc"/>
            </lv_obj>
          </ui_card>
          <ui_card width="0"
                  height="content" flex_grow="1" flex_flow="row" style_pad_all="#space_xs" style_pad_gap="#space_xs"
                  style_radius="#border_radius_small" style_flex_cross_place="center">
            <lv_obj name="swatch_11"
                    width="#theme_swatch_size" height="#theme_swatch_size" style_radius="#border_radius_small"
                    style_bg_color="#info" style_bg_opa="255" style_border_width="1"
                    style_border_color="#elevated_bg" style_border_opa="80" scrollable="false" clickable="true">
              <event_cb trigger="clicked" callback="on_theme_swatch_clicked"/>
            </lv_obj>
            <lv_obj width="0"
                    height="content" flex_grow="1" flex_flow="column" style_pad_all="0" style_pad_gap="#space_xs"
                    scrollable="false">
              <text_small bind_text="swatch_11_desc"/>
            </lv_obj>
          </ui_card>
        </lv_obj>
        <lv_obj width="100%"
                height="content" flex_flow="row" style_pad_all="0" style_pad_gap="#space_xs"
                scrollable="false">
          <ui_card width="0"
                  height="content" flex_grow="1" flex_flow="row" style_pad_all="#space_xs" style_pad_gap="#space_xs"
                  style_radius="#border_radius_small" style_flex_cross_place="center">
            <lv_obj name="swatch_12"
                    width="#theme_swatch_size" height="#theme_swatch_size" style_radius="#border_radius_small"
                    style_bg_color="#success" style_bg_opa="255" style_border_width="1"
                    style_border_color="#elevated_bg" style_border_opa="80" scrollable="false" clickable="true">
              <event_cb trigger="clicked" callback="on_theme_swatch_clicked"/>
            </lv_obj>
            <lv_obj width="0"
                    height="content" flex_grow="1" flex_flow="column" style_pad_all="0" style_pad_gap="#space_xs"
                    scrollable="false">
              <text_small bind_text="swatch_12_desc"/>
            </lv_obj>
          </ui_card>
          <ui_card width="0"
                  height="content" flex_grow="1" flex_flow="row" style_pad_all="#space_xs" style_pad_gap="#space_xs"
                  style_radius="#border_radius_small" style_flex_cross_place="center">
            <lv_obj name="swatch_13"
                    width="#theme_swatch_size" height="#theme_swatch_size" style_radius="#border_radius_small"
                    style_bg_color="#warning" style_bg_opa="255" style_border_width="1"
                    style_border_color="#elevated_bg" style_border_opa="80" scrollable="false" clickable="true">
              <event_cb trigger="clicked" callback="on_theme_swatch_clicked"/>
            </lv_obj>
            <lv_obj width="0"
                    height="content" flex_grow="1" flex_flow="column" style_pad_all="0" style_pad_gap="#space_xs"
                    scrollable="false">
              <text_small bind_text="swatch_13_desc"/>
            </lv_obj>
          </ui_card>
        </lv_obj>
        <lv_obj width="100%"
                height="content" flex_flow="row" style_pad_all="0" style_pad_gap="#space_xs"
                scrollable="false">
          <ui_card width="0"
                  height="content" flex_grow="1" flex_flow="row" style_pad_all="#space_xs" style_pad_gap="#space_xs"
                  style_radius="#border_radius_small" style_flex_cross_place="center">
            <lv_obj name="swatch_14"
                    width="#theme_swatch_size" height="#theme_swatch_size" style_radius="#border_radius_small"
                    style_bg_color="#danger" style_bg_opa="255" style_border_width="1"
                    style_border_color="#elevated_bg" style_border_opa="80" scrollable="false" clickable="true">
              <event_cb trigger="clicked" callback="on_theme_swatch_clicked"/>
            </lv_obj>
            <lv_obj width="0"
                    height="content" flex_grow="1" flex_flow="column" style_pad_all="0" style_pad_gap="#space_xs"
                    scrollable="false">
              <text_small bind_text="swatch_14_desc"/>
            </lv_obj>
          </ui_card>
          <ui_card width="0"
                  height="content" flex_grow="1" flex_flow="row" style_pad_all="#space_xs" style_pad_gap="#space_xs"
                  style_radius="#border_radius_small" style_flex_cross_place="center">
            <lv_obj name="swatch_15"
                    width="#theme_swatch_size" height="#theme_swatch_size" style_radius="#border_radius_small"
                    style_bg_color="#focus" style_bg_opa="255" style_border_width="1"
                    style_border_color="#elevated_bg" style_border_opa="80" scrollable="false" clickable="true">
              <event_cb trigger="clicked" callback="on_theme_swatch_clicked"/>
            </lv_obj>
            <lv_obj width="0"
                    height="content" flex_grow="1" flex_flow="column" style_pad_all="0" style_pad_gap="#space_xs"
                    scrollable="false">
              <text_small bind_text="swatch_15_desc"/>
            </lv_obj>
          </ui_card>
        </lv_obj>
      </lv_obj>
      <!-- ================================================================== -->
      <!-- STYLE PROPERTIES -->
      <!-- ================================================================== -->
      <setting_section_header title="STYLE PROPERTIES" title_tag="STYLE PROPERTIES" icon="tune_variant"/>

      <setting_slider_row name="row_border_radius"
                          label="Border Radius" label_tag="Border Radius" icon="cube" description="Corner roundness (0 = sharp, 40 = very round)" description_tag="Corner roundness (0 = sharp, 40 = very round)"
                          min="0" max="40" value="8" min_icon="minus" max_icon="plus"
                          callback="on_theme_property_changed" user_data="border_radius"/>

      <setting_slider_row name="row_border_width"
                          label="Border Width" label_tag="Border Width" icon="ruler" description="Default border thickness" description_tag="Default border thickness" min="0" max="6"
                          value="1" min_icon="minus" max_icon="plus"
                          callback="on_theme_property_changed" user_data="border_width"/>

      <setting_slider_row name="row_border_opacity"
                          label="Border Opacity" label_tag="Border Opacity" icon="layers"
                          description="Border transparency (0 = invisible, 255 = solid)" description_tag="Border transparency (0 = invisible, 255 = solid)" min="0" max="255" value="128"
                          min_icon="minus" max_icon="plus"
                          callback="on_theme_property_changed" user_data="border_opacity"/>

      <setting_slider_row name="row_shadow_intensity"
                          label="Shadow Intensity" label_tag="Shadow Intensity" icon="animation" description="Drop shadow strength (0 = disabled)" description_tag="Drop shadow strength (0 = disabled)"
                          min="0" max="50" value="0" min_icon="minus" max_icon="plus"
                          callback="on_theme_property_changed" user_data="shadow"/>

    </lv_obj>
    <!-- Keep actions always visible on MICRO instead of pushing them below long scrollers -->
    <lv_obj name="action_buttons"
            width="100%" height="content" style_pad_left="#space_sm" style_pad_right="#space_sm"
            style_pad_top="#space_xs" style_pad_bottom="#space_xs" flex_flow="row" style_pad_gap="#space_xs"
            scrollable="false">
      <ui_button name="btn_reset" text="Reset" translation_tag="Reset" variant="secondary"
                 height="#button_height_sm" flex_grow="1">
        <event_cb trigger="clicked" callback="on_theme_reset_clicked"/>
      </ui_button>
      <ui_button name="btn_save_as" text="Save As New" translation_tag="Save As New" variant="secondary"
                 height="#button_height_sm" flex_grow="1">
        <event_cb trigger="clicked" callback="on_theme_save_as_clicked"/>
      </ui_button>
      <ui_button name="btn_save" text="Save" translation_tag="Save" variant="primary"
                 height="#button_height_sm" flex_grow="1" state="disabled">
        <event_cb trigger="clicked" callback="on_theme_save_clicked"/>
      </ui_button>
    </lv_obj>
  </view>
</component>
