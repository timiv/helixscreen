<?xml version="1.0"?>
<!-- Copyright 2025 356C LLC -->
<!-- SPDX-License-Identifier: GPL-3.0-or-later -->

<component>
  <!-- Print File Detail View - Full overlay showing file details and print options -->
  <!-- Uses reactive subjects for file data (no API properties needed) -->
  <view extends="lv_obj" x="#nav_width" height="100%" style_bg_opa="255" style_border_width="0" style_pad_all="0" flex_flow="column" clickable="true" name="detail_view_root">
    <!-- HEADER BAR (full width at top) -->
    <header_bar title="Print File" name="detail_header"/>
    <!-- CONTENT AREA (two columns) -->
    <lv_obj width="100%" flex_grow="1" style_bg_opa="0" style_border_width="0" style_pad_left="#padding_normal" style_pad_right="#padding_normal" style_pad_top="#padding_normal" style_pad_bottom="#padding_normal" flex_flow="row" style_pad_gap="#gap_normal" name="content_container">
      <!-- ================================================================== -->
      <!-- LEFT SECTION: Thumbnail styled like card (2/3 width)              -->
      <!-- ================================================================== -->
      <lv_obj name="thumbnail_section" flex_grow="2" height="100%" style_border_width="0" style_pad_all="0" style_radius="#border_radius" style_clip_corner="true" scrollable="false">
        <!-- Gradient background (scaled to fill section) -->
        <lv_image name="gradient_background" src="A:assets/images/thumbnail-gradient-bg.png" width="100%" height="100%" style_bg_opa="0" align="center"/>
        <!-- Thumbnail image (fills entire card background) -->
        <lv_image name="detail_thumbnail" src="A:assets/images/thumbnail-placeholder.png" width="100%" height="100%" style_bg_opa="0" align="top_mid" inner_align="top_mid"/>
        <!-- METADATA OVERLAY at bottom (like card view) -->
        <lv_obj name="metadata_overlay" width="100%" height="100" style_bg_opa="204" style_border_width="0" style_radius="0" style_pad_left="#gap_normal" style_pad_right="#gap_normal" style_pad_top="#gap_normal" style_pad_bottom="#gap_normal" style_pad_gap="#gap_small" align="bottom_mid" flex_flow="column" scrollable="false">
          <!-- Filename label -->
          <lv_label name="detail_filename" bind_text="selected_filename" width="100%" height="20" long_mode="dots"/>
          <!-- Metadata row (horizontal layout with icons) -->
          <lv_obj width="100%" style_bg_opa="0" style_border_width="0" style_pad_all="0" style_pad_gap="#gap_normal" flex_flow="row" flex_grow="1">
            <!-- Print time (icon + text) -->
            <lv_obj flex_grow="1" height="100%" style_bg_opa="0" style_border_width="0" style_pad_all="0" flex_flow="row" style_pad_gap="6" style_flex_cross_place="center">
              <icon src="mat_clock" size="xs" variant="accent"/>
              <text_small name="detail_print_time" bind_text="selected_print_time" flex_grow="1"/>
            </lv_obj>
            <!-- Filament weight (icon + text) -->
            <lv_obj flex_grow="1" height="100%" style_bg_opa="0" style_border_width="0" style_pad_all="0" flex_flow="row" style_pad_gap="6" style_flex_cross_place="center">
              <icon src="mat_layers" size="xs" variant="accent"/>
              <text_small name="detail_filament_weight" bind_text="selected_filament_weight" flex_grow="1"/>
            </lv_obj>
          </lv_obj>
        </lv_obj>
      </lv_obj>
      <!-- ================================================================== -->
      <!-- RIGHT SECTION: Options and buttons (1/3 width)                    -->
      <!-- ================================================================== -->
      <lv_obj name="options_section" flex_grow="1" height="100%" style_bg_opa="0" style_border_width="0" style_pad_all="0" style_pad_gap="16" flex_flow="column">
        <!-- Options card -->
        <ui_card name="options_card" width="100%" flex_grow="5" style_radius="#border_radius" style_pad_all="16" flex_flow="column">
          <!-- Filament type dropdown -->
          <text_body text="Filament Type" width="100%" height="20"/>
          <lv_dropdown name="filament_dropdown" options="PLA&#10;PETG&#10;ABS&#10;TPU&#10;Nylon&#10;ASA&#10;PC&#10;HIPS&#10;PVA&#10;Wood Fill&#10;Carbon Fiber" width="100%" height="#button_height"/>
          <!-- Automatic bed leveling checkbox -->
          <lv_checkbox name="bed_leveling_checkbox" text="Automatic Bed Leveling" width="100%"/>
        </ui_card>
        <!-- Button row -->
        <lv_obj name="button_row" width="100%" style_bg_opa="0" style_border_width="0" style_pad_all="0" style_pad_gap="#button_padding" flex_flow="row">
          <!-- Delete button -->
          <lv_button name="delete_button" flex_grow="1" height="#button_height" style_radius="4" clickable="true">
            <text_body text="Delete" align="center"/>
          </lv_button>
          <!-- Print button -->
          <lv_button name="print_button" flex_grow="1" height="#button_height" style_radius="4" clickable="true">
            <text_body text="Print" align="center"/>
          </lv_button>
        </lv_obj>
      </lv_obj>
    </lv_obj>
  </view>
</component>
