<?xml version="1.0"?>
<!-- Copyright 2025 356C LLC -->
<!-- SPDX-License-Identifier: GPL-3.0-or-later -->

<component>
  <!-- Reusable Overlay Panel Wrapper Component -->
  <!-- Provides consistent positioning, header, and content area for all overlay panels -->
  <!-- Uses shared backdrop from navigation system (ui_nav.cpp) -->

  <!-- Usage Pattern:
       - Overlay panels extend this component
       - Specify title, optional right button text, and width
       - Add panel-specific content inside the content area
       - C++ code wires back button and right button (if needed)

       Example:
       <overlay_panel title="Motion: XYZ" width="#overlay_panel_width_large">
         <lv_obj name="motion_content">
           [panel-specific controls]
         </lv_obj>
       </overlay_panel>
  -->

  <!-- API Properties -->
  <api>
    <prop type="string" name="title" default="Overlay"/>
    <prop type="string" name="action_button_text" default=""/>
    <prop type="string" name="hide_action_button" default="true"/>
    <prop type="string" name="width" default="#overlay_panel_width"/>
  </api>

  <!-- Extends overlay_panel_base for consistent outer container styling -->
  <view extends="overlay_panel_base"
        width="$width">

    <!-- Header Bar (integrated, uses improved header_bar component) -->
    <header_bar name="overlay_header"
                title="$title"
                action_button_text="$action_button_text"
                hide_action_button="$hide_action_button"/>

    <!-- Content Area (flexible height, fills remaining space) -->
    <!-- Panel-specific content goes here -->
    <lv_obj name="overlay_content"
            flex_grow="1"
            width="100%"
            style_bg_opa="0"
            style_pad_all="#padding_normal"
            style_border_width="0"
            scrollable="false"
            flex_flow="column">
      <!-- Panel-specific content inserted here by child components -->
    </lv_obj>
  </view>
</component>
