<?xml version="1.0"?>
<!--
  Copyright (C) 2025 356C LLC
  Author: Preston Brown <pbrown@brown-house.net>

  This file is part of HelixScreen.

  HelixScreen is free software: you can redistribute it and/or modify
  it under the terms of the GNU General Public License as published by
  the Free Software Foundation, either version 3 of the License, or
  (at your option) any later version.

  HelixScreen is distributed in the hope that it will be useful,
  but WITHOUT ANY WARRANTY; without even the implied warranty of
  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the
  GNU General Public License for more details.

  You should have received a copy of the GNU General Public License
  along with HelixScreen. If not, see <https://www.gnu.org/licenses/>.
-->

<component>
  <!-- Heatbed Temperature Sub-Screen -->
  <!-- Temperature control with presets and custom input -->

  <!-- Full-screen backdrop with semi-transparent overlay -->
  <view extends="lv_obj"
        name="bed_temp_panel_backdrop"
        width="100%"
        height="100%"
        style_bg_color="0x000000"
        style_bg_opa="180"
        style_border_width="0"
        style_pad_all="0"
        style_radius="0"
        align="center"
        clickable="true">

    <!-- Heatbed temperature panel content (docked right edge) -->
    <lv_obj name="bed_temp_panel" width="#overlay_panel_width" height="100%" align="right_mid" style_bg_color="#panel_bg" style_border_width="0" style_pad_all="0" scrollable="false" flex_flow="column">
      <!-- Header Bar with Confirm Button -->
      <header_bar name="bed_temp_header"
                  title="Heatbed Temperature"
                  right_button_text="Confirm"
                  show_right_button="true"/>

    <!-- Content Area: Two Columns -->
    <lv_obj name="temp_content" flex_grow="1" width="100%"
            style_bg_opa="0" style_pad_all="#padding_normal"
            scrollable="false" style_border_width="0" style_border_opa="0"
            flex_flow="row" style_flex_main_place="space_between">

      <!-- Left Column (40%): Fire Icon Visualization -->
      <lv_obj name="left_column" width="40%" height="100%"
              style_bg_opa="0" style_pad_all="0"
              scrollable="false" style_border_width="0" style_border_opa="0"
              flex_flow="column" style_flex_main_place="center" style_flex_cross_place="center">

        <!-- Fire Icon Container -->
        <lv_obj name="icon_container" width="280" height="320"
                style_bg_color="#card_bg" style_radius="#card_radius_large" style_border_width="0"
                scrollable="false"
                flex_flow="column" style_flex_main_place="center" style_flex_cross_place="center">
          <icon src="mat_bed" variant="accent"/>
        </lv_obj>
      </lv_obj>

      <!-- Right Column (60%): Controls -->
      <lv_obj name="right_column" width="60%" height="100%"
              style_bg_opa="0" style_pad_all="0"
              scrollable="false" style_border_width="0" style_border_opa="0"
              flex_flow="column" style_flex_main_place="start" style_flex_cross_place="center"
              style_pad_gap="#padding_normal">

        <!-- Current/Target Temperature Display Card -->
        <lv_obj name="temp_display_card" width="100%" height="80"
                style_bg_color="#card_bg" style_radius="8" style_border_width="0" style_pad_all="16"
                scrollable="false"
                flex_flow="column" style_flex_main_place="center" style_flex_cross_place="center"
                style_pad_gap="4">
          <lv_label text="Current / Target" style_text_font="montserrat_14" style_text_color="#text_secondary" align="center"/>
          <lv_label name="bed_temp_display" bind_text="bed_temp_display" style_text_font="montserrat_28" style_text_color="#text_primary" align="center"/>
        </lv_obj>

        <!-- Preset Buttons (2x2 Grid) -->
        <lv_obj name="preset_grid" width="100%" height="124"
                style_bg_opa="0" style_pad_all="0" style_border_width="0"
                scrollable="false"
                flex_flow="column" style_flex_main_place="start" style_flex_cross_place="center"
                style_pad_gap="8">

          <!-- Row 1: Off, PLA -->
          <lv_obj width="100%" height="58"
                  style_bg_opa="0" style_border_width="0" style_pad_all="0"
                  scrollable="false"
                  flex_flow="row" style_flex_main_place="center" style_flex_cross_place="center"
                  style_pad_gap="8">
            <lv_button name="preset_off" width="120" height="48"
                    style_bg_color="#jog_button_bg" style_radius="6" style_border_width="0">
              <lv_label text="Off (0째C)" style_text_font="montserrat_14" style_text_color="#text_primary" align="center"/>
            </lv_button>
            <lv_button name="preset_pla" width="120" height="48"
                    style_bg_color="#jog_button_bg" style_radius="6" style_border_width="0">
              <lv_label text="PLA (60째C)" style_text_font="montserrat_14" style_text_color="#text_primary" align="center"/>
            </lv_button>
          </lv_obj>

          <!-- Row 2: PETG, ABS -->
          <lv_obj width="100%" height="58"
                  style_bg_opa="0" style_border_width="0" style_pad_all="0"
                  scrollable="false"
                  flex_flow="row" style_flex_main_place="center" style_flex_cross_place="center"
                  style_pad_gap="8">
            <lv_button name="preset_petg" width="120" height="48"
                    style_bg_color="#jog_button_bg" style_radius="6" style_border_width="0">
              <lv_label text="PETG (80째C)" style_text_font="montserrat_14" style_text_color="#text_primary" align="center"/>
            </lv_button>
            <lv_button name="preset_abs" width="120" height="48"
                    style_bg_color="#jog_button_bg" style_radius="6" style_border_width="0">
              <lv_label text="ABS (100째C)" style_text_font="montserrat_14" style_text_color="#text_primary" align="center"/>
            </lv_button>
          </lv_obj>
        </lv_obj>

        <!-- Custom Button -->
        <lv_button name="btn_custom" width="100%" height="48"
                style_bg_color="#jog_button_bg" style_radius="6" style_border_width="0">
          <lv_label text="Custom..." style_text_font="#font_body" style_text_color="#text_primary" align="center"/>
        </lv_button>

        <!-- Status Message -->
        <lv_label name="status_message"
                  text="Bed maintains temperature during printing to help material adhere."
                  width="100%"
                  style_text_font="montserrat_14"
                  style_text_color="#text_secondary"
                  style_text_align="center"
                  scrollable="false"/>
      </lv_obj>
    </lv_obj>
    </lv_obj>
  </view>
</component>
