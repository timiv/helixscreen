<?xml version="1.0"?>
<!-- Copyright 2025 356C LLC -->
<!-- SPDX-License-Identifier: GPL-3.0-or-later -->
<!-- Timelapse Settings Overlay Panel -->
<!-- Configure Moonraker-Timelapse plugin settings for recording prints -->
<component>
  <view extends="overlay_panel" name="timelapse_settings_overlay" title="Timelapse Settings"
        width="#overlay_panel_width_full" bg_color="#app_bg_color">
    <!-- Content Area - no padding, rows handle their own -->
    <lv_obj name="overlay_content"
            width="100%" flex_grow="1" style_bg_opa="0" style_pad_all="0" scrollable="true" scroll_dir="ver"
            style_border_width="0" flex_flow="column">
      <!-- ================================================================== -->
      <!-- ENABLE TIMELAPSE -->
      <!-- ================================================================== -->
      <setting_toggle_row name="row_timelapse_enable"
                          label="Enable Timelapse" icon="video" description="Record timelapses of your prints"
                          callback="on_timelapse_enabled_changed"/>
      <!-- ================================================================== -->
      <!-- RECORDING MODE -->
      <!-- ================================================================== -->
      <setting_dropdown_row name="row_timelapse_mode"
                            label="Recording Mode" icon="layers"
                            description="Choose how frames are captured during printing"
                            callback="on_timelapse_mode_changed"/>
      <!-- Mode info box -->
      <lv_obj name="mode_info_container"
              width="100%" height="content" style_bg_color="#card_bg_dark" style_radius="#border_radius"
              style_pad_all="#space_md" style_border_width="0" scrollable="false" flex_flow="column"
              style_pad_gap="#space_xs" style_margin_left="#space_lg" style_margin_right="#space_lg"
              style_margin_bottom="#space_md">
        <text_small name="mode_info_text"
                    width="100%" text="Layer mode captures one frame per layer change. Best for most prints."
                    style_text_color="#text_secondary" long_mode="wrap"/>
      </lv_obj>
      <!-- ================================================================== -->
      <!-- FRAMERATE -->
      <!-- ================================================================== -->
      <setting_dropdown_row name="row_timelapse_framerate"
                            label="Framerate" icon="animation_play"
                            description="Video playback speed"
                            callback="on_timelapse_framerate_changed"/>
      <!-- ================================================================== -->
      <!-- AUTO-RENDER -->
      <!-- ================================================================== -->
      <setting_toggle_row name="row_timelapse_autorender"
                          label="Auto-render video" icon="play_circle" description="Create video when print completes"
                          callback="on_timelapse_autorender_changed"/>
      <!-- ================================================================== -->
      <!-- INFO NOTE -->
      <!-- ================================================================== -->
      <lv_obj width="100%"
              height="content" style_bg_opa="0" style_border_width="0" scrollable="false" style_pad_left="#space_lg"
              style_pad_right="#space_lg" style_pad_top="#space_md" style_pad_bottom="#space_lg" flex_flow="row"
              style_flex_cross_place="center" style_flex_track_place="center" style_pad_gap="#space_sm">
        <icon src="info" size="xs" variant="secondary"/>
        <text_small text="Requires Moonraker-Timelapse plugin" style_text_color="#text_secondary"/>
      </lv_obj>
    </lv_obj>
  </view>
</component>
