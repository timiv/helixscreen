<!--
  Copyright (C) 2025 356C LLC
  Author: Preston Brown <pbrown@brown-house.net>

  This file is part of GuppyScreen.

  GuppyScreen is free software: you can redistribute it and/or modify
  it under the terms of the GNU General Public License as published by
  the Free Software Foundation, either version 3 of the License, or
  (at your option) any later version.

  GuppyScreen is distributed in the hope that it will be useful,
  but WITHOUT ANY WARRANTY; without even the implied warranty of
  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the
  GNU General Public License for more details.

  You should have received a copy of the GNU General Public License
  along with GuppyScreen. If not, see <https://www.gnu.org/licenses/>.
-->

<component>
	<!-- Print File Card Component
	     Displays a single print file with thumbnail, filename, and metadata
	-->

	<api>
		<prop type="string" name="thumbnail_src"/>
		<prop type="string" name="filename"/>
		<prop type="string" name="print_time"/>
		<prop type="string" name="filament_weight"/>
	</api>

	<view extends="lv_obj"
	      width="#file_card_width"
	      height="#file_card_height"
	      style_bg_color="#card_bg"
	      style_radius="#card_radius"
	      style_border_width="0"
	      style_pad_all="#file_card_padding"
	      flex_flow="column"
	      flex_align="start,start,start"
	      flag_clickable="true">

		<!-- Thumbnail image (square) -->
		<lv_image src="$thumbnail_src"
		          width="#file_card_thumbnail_size"
		          height="#file_card_thumbnail_size"
		          style_radius="6"
		          inner_align="center"
		          style_bg_color="#file_card_thumbnail_bg"
		          name="thumbnail"/>

		<!-- Filename label (single line, truncated with ...) -->
		<lv_label text="$filename"
		          width="#file_card_thumbnail_size"
		          height="20"
		          long_mode="dots"
		          flex_grow="0"
		          style_text_color="#text_primary"
		          style_text_font="montserrat_16"
		          style_pad_top="#file_card_spacing"
		          style_pad_all="0"
		          name="filename_label"/>

		<!-- Metadata row (time + filament) -->
		<lv_obj width="#file_card_thumbnail_size"
		        height="24"
		        style_bg_opa="0%"
		        style_border_width="0"
		        style_pad_all="0"
		        style_pad_top="4"
		        flex_flow="row"
		        flex_align="start,center,center"
		        style_pad_gap="8"
		        name="metadata_row">

			<!-- Print time (icon + text) -->
			<lv_obj width="85"
			        height="20"
			        style_bg_opa="0%"
			        style_border_width="0"
			        style_pad_all="0"
			        flex_flow="row"
			        style_pad_gap="4"
			        flex_align="start,center,center">
				<lv_label text="#icon_clock"
				          width="16"
				          height="20"
				          style_text_color="#primary_color"
				          style_text_font="fa_icons_16"
				          style_pad_all="0"/>
				<lv_label text="$print_time"
				          width="65"
				          height="20"
				          style_text_color="#text_secondary"
				          style_text_font="montserrat_14"
				          style_pad_all="0"
				          flex_grow="0"
				          name="time_label"/>
			</lv_obj>

			<!-- Filament weight (icon + text) -->
			<lv_obj width="75"
			        height="20"
			        style_bg_opa="0%"
			        style_border_width="0"
			        style_pad_all="0"
			        flex_flow="row"
			        style_pad_gap="4"
			        flex_align="start,center,center">
				<lv_label text="#icon_leaf"
				          width="16"
				          height="20"
				          style_text_color="#primary_color"
				          style_text_font="fa_icons_16"
				          style_pad_all="0"/>
				<lv_label text="$filament_weight"
				          width="55"
				          height="20"
				          style_text_color="#text_secondary"
				          style_text_font="montserrat_14"
				          style_pad_all="0"
				          flex_grow="0"
				          name="filament_label"/>
			</lv_obj>
		</lv_obj>
	</view>
</component>
